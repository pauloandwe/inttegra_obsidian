## Critérios de Aceitação

Dado o cenário apresentado, podemos definir os seguintes critérios de aceitação para validar e corrigir a divergência nos cálculos de Custeio e Desembolso:

1. **Correção da Divergência**
    
    - O cálculo de Custeio Cab/Mês e Custeio por @ Produzida deve ser revisado para garantir que seus valores não ultrapassem os respectivos valores de Desembolso Cab/Mês e Desembolso por @ Produzida.
2. **Validação dos Dados na API**
    
    - Os valores apresentados na interface devem estar alinhados com os valores retornados pela API, garantindo consistência nas informações exibidas.
3. **Comparação com Planilha de Referência**
    
    - Os cálculos realizados pelo sistema devem ser comparados com os cálculos manuais da planilha enviada, garantindo que as fórmulas aplicadas estejam corretas.
4. **Revisão da Fórmula de Cálculo**
    
    - O time técnico deve identificar em qual etapa do cálculo ocorre a divergência, verificando se há erro na fórmula utilizada para os indicadores de custeio e desembolso.
5. **Testes de Regressão**
    
    - Após a correção, deve-se realizar testes em outros períodos e contextos para garantir que a alteração não impacte negativamente outras consultas.
6. **Confirmação Visual na Interface**
    
    - Os valores corrigidos devem ser validados na interface do usuário, garantindo que estejam corretos e de fácil compreensão.


---

## Test Cases: Validação dos Cálculos de Custeio e Desembolso

#### **Cenário:** Verificação de inconsistências nos valores de Custeio e Desembolso no Dashboard e Painel de Consultas

---

#### **Test Case 01 - Validação da Soma Total das Despesas e Custeio no Dashboard**

**Pré-condições:**

- Acessar o ambiente PRD com um usuário válido (ex: [bianca@inttegra.com](mailto:bianca@inttegra.com)).
- Selecionar o contexto da Fazenda Mata Verde.
- Aplicar o filtro para o período do primeiro semestre.

**Passos:**

1. Acessar o Dashboard.
2. Verificar os valores totais de **Despesas** e **Custeio** apresentados.
3. Comparar com os valores calculados manualmente na planilha de referência.

**Resultado Esperado:**

- O valor total de **Despesas** deve ser **maior** que o valor total de **Custeio**.

---

#### **Test Case 02 - Comparação de Custeio Cab/Mês e Desembolso Cab/Mês no Painel de Consultas**

**Pré-condições:**

- Acessar o Painel de Consultas com os mesmos filtros aplicados no Dashboard.

**Passos:**

4. Identificar os valores de **Custeio Cab/Mês** e **Desembolso Cab/Mês** apresentados na tela.
5. Comparar os valores apresentados com os cálculos manuais da planilha.

**Resultado Esperado:**

- **Custeio Cab/Mês** não pode ser maior que **Desembolso Cab/Mês**.

---

#### **Test Case 03 - Comparação de Custeio por @ Produzida e Desembolso por @ Produzida**

**Pré-condições:**

- Acessar o Painel de Consultas com os mesmos filtros aplicados.

**Passos:**

6. Identificar os valores de **Custeio por @ Produzida** e **Desembolso por @ Produzida** na tela.
7. Comparar com os valores calculados manualmente na planilha.

**Resultado Esperado:**

- **Custeio por @ Produzida** não pode ser maior que **Desembolso por @ Produzida**.

---

#### **Test Case 04 - Verificação do Cálculo de Custeio Cab/Mês**

**Pré-condições:**

- Acessar o banco de dados ou logs da API para verificar os cálculos.

**Passos:**

8. Identificar a fórmula utilizada para calcular **Custeio Cab/Mês**.
9. Comparar os parâmetros usados no cálculo com os valores apresentados na interface.
10. Confirmar se há erro de cálculo ou erro de exibição na UI.

**Resultado Esperado:**

- O cálculo deve estar correto e compatível com os valores apresentados.

---

#### **Test Case 05 - Validação da API de Dados Financeiros**

**Pré-condições:**

- Acessar o DevTools (F12) no Google Chrome e inspecionar as requisições da API.

**Passos:**

11. Verificar os endpoints responsáveis por buscar os valores de **Desembolso** e **Custeio**.
12. Comparar os valores retornados na API com os valores apresentados na interface.
13. Validar se há inconsistência entre os dados da API e os valores exibidos.

**Resultado Esperado:**

- Os valores retornados pela API devem corresponder aos valores exibidos no Dashboard e no Painel de Consultas.

---

Caso os testes identifiquem divergências, pode ser necessário revisar a lógica de cálculo no backend ou possíveis falhas na interface de exibição.

